{%- assign size_option = nil -%}

{%- for option in product.options_with_values -%}
  {%- if option.name == 'Size' -%}
    {%- assign size_option = option -%}
  {%- endif -%}
{%- endfor -%}

{%- if size_option -%}
  <div class="variant-box">
    <ul class="product-size_list">
      {%- for value in size_option.values -%}
        {%- assign is_available = false -%}

        {%- for variant in product.variants -%}
          {%- if variant.available and variant.options contains value -%}
            {%- assign is_available = true -%}
            {%- break -%}
          {%- endif -%}
        {%- endfor -%}

        <li
          class="size-item h6{% unless is_available %} disabled{% endunless %}"
          data-value="{{ value | escape }}"
        >
          {{ value }}
        </li>
      {%- endfor -%}
    </ul>
  </div>
{%- endif -%}
