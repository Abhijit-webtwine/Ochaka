(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();function O(){const a=document.querySelectorAll(".js-sidebar-categories"),t=document.querySelectorAll(".faq-item");if(a.length===0||t.length===0)return;const e=new Set,s=Array.from(t).filter(i=>{const n=i.getAttribute("data-title");return!i.getAttribute("id")||!n||e.has(n)?!1:(e.add(n),!0)}).map(i=>`
      <li>
        <a href="#${i.id}" class="h6 link js-faq-sidebar-link">
          ${i.getAttribute("data-title")}
        </a>
      </li>
    `).join("");a.forEach(i=>{i.innerHTML=s,i.addEventListener("click",n=>{var c,l;const o=n.target.closest(".js-faq-sidebar-link");if(!o)return;const r=o.closest(".offcanvas");r&&((c=window.bootstrap)!=null&&c.Offcanvas)&&((l=window.bootstrap.Offcanvas.getInstance(r))==null||l.hide())})})}function x(){const a=document.querySelectorAll(".js-faq-search-input"),t=document.querySelectorAll(".faq-item"),e=document.querySelectorAll(".js-faq-search-form"),s=document.querySelector(".faq-no-results");if(a.length===0||t.length===0)return;const i=n=>{const o=n.toLowerCase().trim();let r=0;t.forEach(c=>{var g;const l=c.querySelectorAll(".accordion-faq"),p=((g=c.querySelector(".faq_title"))==null?void 0:g.textContent.toLowerCase())||"";if(o===""){c.classList.remove("d-none"),l.forEach(h=>h.classList.remove("d-none"));return}let m=!1;l.forEach(h=>{const w=h.textContent.toLowerCase().includes(o);h.classList.toggle("d-none",!w),w&&(m=!0)});const f=p.includes(o),E=m||f;c.classList.toggle("d-none",!E),E&&r++,f&&!m&&l.forEach(h=>h.classList.remove("d-none"))}),s&&s.classList.toggle("d-none",o===""||r>0)};a.forEach(n=>{n.addEventListener("input",o=>{const r=o.target.value;a.forEach(c=>{c!==n&&(c.value=r)}),i(r)})}),e.forEach(n=>{n.addEventListener("submit",o=>o.preventDefault())})}class d extends HTMLElement{constructor(){super(),this.onUpdate=this.onUpdate.bind(this)}get productHandle(){return this.dataset.productHandle}getStorageItems(t){try{return JSON.parse(sessionStorage.getItem(t)||"[]")}catch{return[]}}setStorageItems(t,e){sessionStorage.setItem(t,JSON.stringify(e))}setLoading(t){t?this.classList.add("loading"):this.classList.remove("loading")}setupEventListeners(){this.EVENT_NAME&&window.addEventListener(this.EVENT_NAME,this.onUpdate)}removeEventListeners(){this.EVENT_NAME&&window.removeEventListener(this.EVENT_NAME,this.onUpdate)}dispatchUpdate(t){this.EVENT_NAME&&window.dispatchEvent(new CustomEvent(this.EVENT_NAME,{detail:t}))}onUpdate(t){var e,s;if(this.updateState){const i=((e=t.detail)==null?void 0:e.items)||((s=t.detail)==null?void 0:s.list);this.updateState(i)}}renderEmpty(t){this.innerHTML=t,this.setLoading(!1)}}class v extends d{constructor(){super(),this.onClick=this.onClick.bind(this),this.STORAGE_KEY="wishlist-items",this.EVENT_NAME="wishlist:updated"}connectedCallback(){this.addEventListener("click",this.onClick),this.setupEventListeners(),this.updateState()}disconnectedCallback(){this.removeEventListener("click",this.onClick),this.removeEventListeners()}updateState(t=null){const e=this.productHandle;if(!e)return;t||(t=this.getStorageItems(this.STORAGE_KEY));const s=t.includes(e),i=this.querySelector(".icon"),n=this.dataset.updateIcon!=="false";if(s){this.classList.add("active"),i&&n&&(i.classList.remove("icon-heart"),i.classList.add("icon-trash"));const o=this.querySelector(".tooltip"),r=this.querySelector(".text");o&&(o.textContent="Remove"),r&&(r.textContent="Remove")}else{this.classList.remove("active"),i&&n&&(i.classList.remove("icon-trash"),i.classList.add("icon-heart"));const o=this.querySelector(".tooltip"),r=this.querySelector(".text");o&&(o.textContent="Add to Wishlist"),r&&(r.textContent="Add to List")}}onClick(t){t.preventDefault(),this.setLoading(!0);const e=this.productHandle;if(!e)return;let s=this.getStorageItems(this.STORAGE_KEY);const i=s.includes(e);let n="add";i?(s=s.filter(o=>o!==e),n="remove"):(s.push(e),n="add"),this.setStorageItems(this.STORAGE_KEY,s),this.updateState(),setTimeout(()=>{this.isConnected&&(this.setLoading(!1),this.dispatchUpdate({items:s,action:n,handle:e}))},150)}}customElements.define("wishlist-toggle",v);class S extends d{constructor(){super(),this._hasRenderedOnce=!1,this.filterData=[],this.currentPage=1,this.itemsPerPage=12,this.abortController=null,this.STORAGE_KEY="wishlist-items",this.EVENT_NAME="wishlist:updated"}connectedCallback(){const t=new URLSearchParams(window.location.search);this.currentPage=parseInt(t.get("page"))||1,this.fetchFromSession(this.currentPage),this.setupEventListeners(),window.addEventListener("popstate",e=>{e.state&&e.state.page&&this.fetchFromSession(e.state.page)})}disconnectedCallback(){this.removeEventListeners()}updateURL(t){if(t===this.currentPage){const e=new URL(window.location);e.searchParams.set("page",t),history.replaceState({page:t},"",e)}else{const e=new URL(window.location);e.searchParams.set("page",t),history.pushState({page:t},"",e)}this.currentPage=t}onUpdate(t){const e=t.detail||{},s=e.items||[],i=e.action,n=e.handle;this.filterData=[];const o=Math.ceil(s.length/this.itemsPerPage);if(this.currentPage>o&&o>0&&(this.currentPage=o),i==="remove"&&n){const c=this.querySelector(`wishlist-toggle[data-product-handle="${n}"]`);if(c){const l=c.closest(".card-product");l&&l.classList.add("removing")}}this.fetchWishlist(s,this.currentPage,!0)}fetchFromSession(t=1){this.currentPage=parseInt(t),this.updateURL(this.currentPage);const e=this.getStorageItems(this.STORAGE_KEY);this.fetchWishlist(e,this.currentPage)}fetchWishlist(t,e=1,s=!0){const i=`<div class="tf-wishlist-empty text-center">
        <p class="text-notice">NO PRODUCTS WERE ADDED TO THE WISHLIST.</p>
        <a href="/collections/all" class="tf-btn animate-btn btn-fill btn-back-shop">BACK TO SHOPPING</a>
        </div>`;if(this._hasRenderedOnce&&!t.length){this.renderEmpty(i);return}if(!t.length){this.renderEmpty(i),this._hasRenderedOnce=!0;return}const o=[...t].reverse().map(p=>`handle:${p}`).join(" OR "),r=`/search?view=wishlist&q=${encodeURIComponent(o)}&page=${e}`;s&&this.setLoading(!0),this.abortController&&this.abortController.abort(),this.abortController=new AbortController;const c=this.abortController.signal,l=this.filterData.find(p=>p.url===r);l?this.renderFromCache(l):this.renderFromFetch(r,c)}renderFromCache(t){this.innerHTML=t.html,this._hasRenderedOnce=!0,this.postRender()}renderFromFetch(t,e){fetch(t,{signal:e}).then(s=>s.text()).then(s=>{this.filterData.push({html:s,url:t}),this.innerHTML=s,this._hasRenderedOnce=!0,this.postRender()}).catch(s=>{s.name!=="AbortError"&&console.error("Wishlist fetch failed",s)}).finally(()=>{this.abortController.signal===e&&this.setLoading(!1)})}postRender(){this.setLoading(!1)}}customElements.define("wishlist-view",S);class L extends d{connectedCallback(){this.updateState(),this.setupEventListeners()}disconnectedCallback(){this.removeEventListeners()}updateState(t){t||(t=this.getStorageItems(this.STORAGE_KEY));const e=t.length,s=this.querySelector('[aria-hidden="true"]');s?s.textContent=e:this.textContent=e,e>0?this.classList.remove("d-none"):this.classList.add("d-none")}}class C extends L{constructor(){super(),this.STORAGE_KEY="wishlist-items",this.EVENT_NAME="wishlist:updated"}}customElements.define("wishlist-count",C);class b extends d{constructor(){super(),this.STORAGE_KEY="compare-list",this.EVENT_NAME="compare:updated"}connectedCallback(){this.loadCompare(),this.setupEventListeners()}disconnectedCallback(){this.removeEventListeners()}onUpdate(){this.loadCompare()}loadCompare(){const t=this.getStorageItems(this.STORAGE_KEY),e=this.dataset.view||"compare";if(t.length===0){e==="compare"?this.renderEmpty('<div class="tf-compare-empty text-center"><p class="text-notice">NO ITEMS IN COMPARE LIST</p><a href="/collections/all" class="tf-btn animate-btn btn-fill btn-back-shop">BACK TO SHOPPING</a></div>'):this.renderEmpty('<p class="box-text_empty h6 text-main">Your Compare is currently empty</p>');return}this.setLoading(!0);const s=t.join(","),i=`/collections/all?view=${e}&sort_by=${s}`;fetch(i).then(n=>{if(!n.ok)throw new Error(`HTTP ${n.status}`);return n.text()}).then(n=>{this.innerHTML=n,window.dispatchEvent(new CustomEvent("compare:loaded"))}).catch(n=>{console.error("Error fetching compare list:",n),this.innerHTML='<div class="text-center">Error loading compare list.</div>',window.dispatchEvent(new CustomEvent("compare:loaded"))}).finally(()=>{this.setLoading(!1)})}}customElements.define("compare-view",b);class P extends d{constructor(){super(),this.STORAGE_KEY="compare-list",this.EVENT_NAME="compare:updated"}connectedCallback(){this.addEventListener("click",this.toggleCompare.bind(this)),this.setupEventListeners(),this.updateState()}disconnectedCallback(){this.removeEventListeners()}toggleCompare(t){t.preventDefault();const e=this.getStorageItems(this.STORAGE_KEY);if(e.indexOf(this.productHandle)>-1){this.openModal();return}this.setLoading(!0),e.push(this.productHandle),this.setStorageItems(this.STORAGE_KEY,e),this.updateState();const i=()=>{this.openModal(),this.setLoading(!1),window.removeEventListener("compare:loaded",i)};window.addEventListener("compare:loaded",i),this.dispatchUpdate({list:e})}openModal(){const t=document.getElementById("compare");t&&window.bootstrap&&bootstrap.Offcanvas.getOrCreateInstance(t).show()}updateState(t){t||(t=this.getStorageItems(this.STORAGE_KEY));const e=t.includes(this.productHandle);this.classList.toggle("active",e);const s=this.querySelector(".text");s&&(s.textContent=e?"Added":"Add to Compare");const i=this.querySelector(".tooltip");i&&(i.textContent=e?"Added":"Compare")}}customElements.define("compare-toggle",P);class y extends d{constructor(){super(),this.STORAGE_KEY="compare-list",this.EVENT_NAME="compare:updated",this.removeProduct=this.removeProduct.bind(this)}connectedCallback(){this.addEventListener("click",this.removeProduct)}disconnectedCallback(){this.removeEventListener("click",this.removeProduct)}removeProduct(t){t.preventDefault();const e=this.dataset.handle;if(!e)return;this.setLoading(!0);const s=this.getStorageItems(this.STORAGE_KEY),i=s.indexOf(e);i>-1&&(s.splice(i,1),this.setStorageItems(this.STORAGE_KEY,s),this.dispatchUpdate({list:s}))}}customElements.define("compare-remove",y);class T extends d{constructor(){super(),this.addEventListener("click",this.clearCompare.bind(this)),this.STORAGE_KEY="compare-list",this.EVENT_NAME="compare:updated"}clearCompare(t){t.preventDefault(),sessionStorage.removeItem(this.STORAGE_KEY),this.dispatchUpdate({list:[]})}}customElements.define("compare-clear",T);class A extends L{constructor(){super(),this.STORAGE_KEY="compare-list",this.EVENT_NAME="compare:updated"}}customElements.define("compare-count",A);class u extends HTMLElement{constructor(){super()}connectedCallback(){this.addEventListener("click",this.loadQuickView.bind(this))}get sectionId(){return"quick-view"}loadQuickView(){const e=`${this.dataset.productUrl.split("?")[0]}?section_id=${this.sectionId}`,s=e,i=u.cache.find(n=>n.url===s);i?this.renderSectionFromCache(i):this.renderSectionFromFetch(e)}renderSectionFromFetch(t){this.classList.add("loading"),fetch(t).then(e=>e.text()).then(e=>{u.cache.push({url:t,html:e});const s=new DOMParser().parseFromString(e,"text/html");this.renderProduct(s)}).catch(e=>{console.error(e)}).finally(()=>{this.classList.remove("loading")})}renderSectionFromCache(t){const e=new DOMParser().parseFromString(t.html,"text/html");this.renderProduct(e)}renderProduct(t){const e=".quick-view__content",s=document.querySelector("#quickView .modal-content");s.innerHTML="";const i=t.querySelector(e);if(i){this.setInnerHTML(s,i.innerHTML),window.Shopify&&Shopify.PaymentButton&&Shopify.PaymentButton.init();const n=document.getElementById("quickView"),o=bootstrap.Modal.getOrCreateInstance(n);o.show(),this.initCarousel(s),s.classList.add("hide-cover");const r=s.querySelector("product-form");r&&r.addEventListener("productForm:added",()=>{o&&o.hide()}),document.dispatchEvent(new CustomEvent("quickview:loaded",{detail:{productUrl:this.dataset.productUrl}}))}}setInnerHTML(t,e){t.innerHTML=e}initCarousel(t){const e=$(t),s=e.find(".modal-quick-view").length?e.find(".modal-quick-view"):e;if(s.find(".tf-single-slide").length!==0){s.data("swiper-qv")&&s.data("swiper-qv").destroy(!0,!0);var i=new Swiper(s.find(".tf-single-slide")[0],{slidesPerView:1,spaceBetween:0,observer:!0,observeParents:!0,speed:800,navigation:{nextEl:s.find(".single-slide-next")[0],prevEl:s.find(".single-slide-prev")[0]}});s.data("swiper-qv",i)}}}u.cache=[];customElements.define("quick-view",u);class q{constructor(){this.bindEvents()}bindEvents(){document.addEventListener("click",this.handlePaginationClick.bind(this)),window.addEventListener("popstate",t=>this.handlePopState(t))}handlePaginationClick(t){const e=t.target.closest(".wg-pagination a, .pagination-item, .pagination-item a");if(!e||t.metaKey||t.ctrlKey||t.button===1)return;const s=e.getAttribute("href");if(!s||s==="#"||s==="")return;const i=e.closest("#BlogGridContainer"),n=e.closest("#ProductGridContainer"),o=e.closest("wishlist-view");i?this.handleBlogPagination(t,s,i):n?this.handleCollectionPagination(t,s,n):o&&this.handleWishlistPagination(t,s,o)}handlePopState(t){t.state&&t.state.path&&(window.location.href=t.state.path)}getSearchParams(t){try{return new URL(t,window.location.origin).searchParams.toString()}catch{return""}}handleCollectionPagination(t,e,s){t.preventDefault();const i=this.getSearchParams(e);typeof FacetFiltersForm<"u"&&FacetFiltersForm.renderPage?FacetFiltersForm.renderPage(i,t):this.fetchSection(e,s,"#ProductGridContainer")}handleWishlistPagination(t,e,s){t.preventDefault();const i=new URL(e,window.location.origin),n=parseInt(i.searchParams.get("page"))||1;s&&typeof s.fetchFromSession=="function"&&s.fetchFromSession(n)}handleBlogPagination(t,e,s){t.preventDefault(),this.fetchSection(e,s,"#BlogGridContainer")}async fetchSection(t,e,s){if(!e)return;e.classList.add("loading");const i=e.dataset.id||e.id;try{const n=new URL(t,window.location.origin);n.searchParams.set("section_id",i);const o=await fetch(n.toString());if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const r=await o.text(),l=new DOMParser().parseFromString(r,"text/html").querySelector(s);l?(e.innerHTML=l.innerHTML,window.history.pushState({path:t},"",t),e.scrollIntoView({behavior:"smooth"})):window.location.href=t}catch(n){console.error("Pagination optimization fetch failed:",n),window.location.href=t}finally{e.classList.remove("loading")}}}function R(){O(),x(),new v,new S,new C,new b,new P,new y,new T,new A,new u,new q}R();
