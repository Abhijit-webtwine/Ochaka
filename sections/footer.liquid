{% style %}
  .section-{{ section.id }}-footer {
    padding-top: {{ section.settings.padding_top_mobile }}px;
    padding-bottom: {{ section.settings.padding_bottom_mobile }}px;
    background-color: {{ section.settings.background_color }};
    color: {{ section.settings.text_color }};
  }

  @media screen and (min-width: 768px) {
    .section-{{ section.id }}-footer {
      padding-top: {{ section.settings.padding_top_tablet }}px;
      padding-bottom: {{ section.settings.padding_bottom_tablet }}px;
    }
  }

  @media screen and (min-width: 1025px) {
    .section-{{ section.id }}-footer {
      padding-top: {{ section.settings.padding_top_desktop }}px;
      padding-bottom: {{ section.settings.padding_bottom_desktop }}px;
    }
  }

  .footer-heading {
    color: {{ section.settings.heading_color }};
  }
  .footer-menu-list a {
    color: {{ section.settings.text_color }};
  }
  .footer-contact a, .footer-newsletter a, .footer-bottom .list-hor :is(a, button) {
    color: {{ section.settings.text_color }};
  }
  .footer-contact .br-line,
  .footer-bottom .br-line {
    background-color: {{ section.settings.text_color }};
  }
  .footer-bottom .inner-bottom, .footer-newsletter form input[type=email] {
    border-color: {{ section.settings.text_color }};
  }
{% endstyle %}

<footer class="tf-footer style-4 section-{{ section.id }}-footer">
  
  {% if section.settings.show_border_top %}
    <div class="container d-flex">
      <span class="br-line"></span>
    </div>
  {% endif %}

  <div class="footer-body">
    <div class="container">
      <div class="row">
        {% assign last_menu_block_id = blank %}
        {% for b in section.blocks reversed %}
          {% if b.type == 'menu' %}
            {% assign last_menu_block_id = b.id %}
            {% break %}
          {% endif %}
        {% endfor %}

        <!-- Contact -->
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'contact' %}
              <div class="col-xl-4 col-sm-6 mb_30 mb-xl-0">
                <div class="footer-col-block">
                  <p class="footer-heading footer-heading-mobile">
                    {{ block.settings.contact_heading }}
                  </p>

                  <div class="tf-collapse-content">
                    <ul class="footer-contact">
                      {% if block.settings.address != blank %}
                      <li>
                        <i class="icon icon-map-pin"></i>
                        <span class="br-line"></span>
                        <a href="{{ block.settings.map_url }}" target="_blank" class="h6 link">
                          {{ block.settings.address | newline_to_br }}
                        </a>
                      </li>
                      {% endif %}

                      {% if block.settings.phone != blank %}
                      <li>
                        <i class="icon icon-phone"></i>
                        <span class="br-line"></span>
                        <a href="tel:{{ block.settings.phone }}" class="h6 link">
                          {{ block.settings.phone }}
                        </a>
                      </li>
                      {% endif %}

                      {% if block.settings.email != blank %}
                      <li>
                        <i class="icon icon-envelope-simple"></i>
                        <span class="br-line"></span>
                        <a href="mailto:{{ block.settings.email }}" class="h6 link">
                          {{ block.settings.email }}
                        </a>
                      </li>
                      {% endif %}
                    </ul>

                    <!-- Social -->
                    <div class="social-wrap">
                      <ul class="tf-social-icon {% if block.settings.white_social_icons %}style-2{% endif %}">
                        {%- render 'social-icons' -%}
                      </ul>
                    </div>

                  </div>
                </div>
              </div>

            {% when 'contact_with_logo' %}
              <div class="col-xl-4 col-sm-6 mb_30 mb-xl-0">
                <div class="footer-infor">
                    <a href="{{ routes.root_url }}" class="logo-site">
                        {% if block.settings.logo != blank %}
                          {{ block.settings.logo | image_url: width: block.settings.logo.width | image_tag: alt: block.settings.logo.alt }}
                        {% endif %}
                    </a>
                    <ul class="footer-contact mb-0">
                        {% if block.settings.address != blank %}
                          <li>
                              <i class="icon icon-map-pin"></i>
                              <span class="br-line"></span>
                              {% if block.settings.map_url != blank %}
                                <a href="{{ block.settings.map_url }}" target="_blank" class="h6 link">
                                  {{ block.settings.address | newline_to_br }}
                                </a>
                              {% else %}
                                <span class="h6">{{ block.settings.address | newline_to_br }}</span>
                              {% endif %}
                          </li>
                        {% endif %}
                        {% if block.settings.phone != blank %}
                          <li>
                              <i class="icon icon-phone"></i>
                              <span class="br-line"></span>
                              <a href="tel:{{ block.settings.phone }}" class="h6 link">{{ block.settings.phone }}</a>
                          </li>
                        {% endif %}
                        {% if block.settings.email != blank %}
                          <li>
                              <i class="icon icon-envelope-simple"></i>
                              <span class="br-line"></span>
                              <a href="mailto:{{ block.settings.email }}" class="h6 link">{{ block.settings.email }}</a>
                          </li>
                        {% endif %}
                    </ul>
                    <ul class="tf-social-icon_2">
                      {% render 'social-icons' %}
                    </ul>
                </div>
              </div>

            {% when 'menu' %}
              {% assign is_last_menu = false %}
              {% if block.id == last_menu_block_id %}
                {% assign is_last_menu = true %}
              {% endif %}
              <!-- Shopping Menu -->
              <div class="col-xl-2 col-sm-6 mb_30 {% unless is_last_menu %}mb-xl-0 {% else %}mb-sm-0 {% endunless %}">
                <div class="footer-col-block footer-wrap-1">
                  <p class="footer-heading footer-heading-mobile">
                    {{ block.settings.menu_1_heading }}
                  </p>
                  <div class="tf-collapse-content">
                    <ul class="footer-menu-list">
                      {% for link in linklists[block.settings.menu_1].links %}
                        <li>
                          <a href="{{ link.url }}" class="link h6">
                            {{ link.title }}
                          </a>
                        </li>
                      {% endfor %}
                    </ul>
                  </div>
                </div>
              </div>

            {% when 'newsletter' %}
              <!-- Newsletter -->
              <div class="col-xl-4 col-sm-6">
                <div class="footer-col-block">
                  <p class="footer-heading footer-heading-mobile">
                    {{ block.settings.newsletter_heading }}
                  </p>

                  <div class="tf-collapse-content">
                    <div class="footer-newsletter">
                      <p class="h6 caption">
                        {{ block.settings.newsletter_text }}
                      </p>

                      {% form 'customer', class: 'form_sub has_check' %}
                        <input type="hidden" name="contact[tags]" value="newsletter">

                        <div class="f-content">
                          <fieldset class="col">
                            <input
                              class="style-stroke"
                              type="email"
                              name="contact[email]"
                              placeholder="Enter Your Email"
                              required
                            >
                          </fieldset>

                          <button type="submit" class="tf-btn animate-btn type-small-2 {% if block.settings.button_style == 'white' %}btn-white{% endif %}">
                            {{ block.settings.newsletter_button }}
                            <i class="icon icon-arrow-right"></i>
                          </button>
                        </div>

                        <div class="checkbox-wrap">
                          <input type="checkbox" class="tf-check style-3" required>
                          <label class="h6 {% if block.settings.newsletter_terms_text_size == 'small' %}text-small{% endif %}">
                            {{ block.settings.newsletter_terms }}
                          </label>
                        </div>
                      {% endform %}
                    </div>
                  </div>
                </div>
              </div>
          {% endcase %}
        {% endfor %}
      </div>
    </div>
  </div>

  <!-- Bottom -->
  <div class="footer-bottom">
    <div class="container">
      <div class="inner-bottom">
        <ul class="list-hor">
          <li><a href="{{ section.settings.bottom_link_1 }}" class="h6 link">{{ section.settings.bottom_text_1 }}</a></li>
          <li class="br-line type-vertical"></li>
          <li><a href="{{ section.settings.bottom_link_2 }}" class="h6 link">{{ section.settings.bottom_text_2 }}</a></li>
        </ul>

        <div class="list-hor flex-wrap">
          <span class="h6">Payment:</span>
          <ul class="payment-method-list">
            {%- for type in shop.enabled_payment_types -%}
              <li class="list-payment__item">
                {{ type | payment_type_svg_tag: class: 'icon icon--full-color footer_payments' }}
              </li>
            {%- endfor -%}
          </ul>
        </div>

        <div class="list-hor">
          {%- liquid
            assign currencies = localization.available_countries | map: 'currency' | map: 'iso_code' | uniq
            assign show_currencies = false
            if currencies.size > 1
              assign show_currencies = true
            endif
          -%}
          <div class="tf-currencies">
            <localization-form>
            {%- form 'localization', id: 'HeaderCountryForm', class: 'localization-form position-static' -%}
              {% render 'country_localization', show_currencies: show_currencies, color_white: false %}
            {%- endform -%}
            </localization-form>
          </div>

          <span class="br-line type-vertical"></span>

          <div class="tf-languages">

            <form class="position-static" method="post" action="{{ routes.localization_url }}">
              <input type="hidden" name="form_type" value="localization">
              <select
                name="locale_code"
                class="tf-dropdown-select style-default type-languages"
                onchange="this.form.submit()"
              >
                {%- for language in localization.available_languages -%}
                  <option
                    value="{{ language.iso_code }}"
                    {% if language.iso_code == localization.language.iso_code %}selected{% endif %}
                  >
                    {{ language.endonym_name }}
                  </option>
                {%- endfor -%}
              </select>
            </form>
          </div>
        </div>

      </div>
    </div>
  </div>
</footer>

{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_border_top",
      "default": false,
      "label": "Show Top Border Line"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Footer Bottom Links"
    },
    {
      "type": "text",
      "id": "bottom_text_1",
      "label": "Text 1",
      "default": "Help & FAQs"
    },
    {
      "type": "url",
      "id": "bottom_link_1",
      "label": "Link 1"
    },
    {
      "type": "text",
      "id": "bottom_text_2",
      "label": "Text 2",
      "default": "Factory"
    },
    {
      "type": "url",
      "id": "bottom_link_2",
      "label": "Link 2"
    },
    {
      "type": "header",
      "content": "Desktop padding"
    },
    {
      "type": "range",
      "id": "padding_top_desktop",
      "label": "Padding top",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom_desktop",
      "label": "Padding bottom",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "default": 40
    },
    {
      "type": "header",
      "content": "Tablet padding"
    },
    {
      "type": "range",
      "id": "padding_top_tablet",
      "label": "Padding top",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "default": 32
    },
    {
      "type": "range",
      "id": "padding_bottom_tablet",
      "label": "Padding bottom",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "default": 32
    },
    {
      "type": "header",
      "content": "Mobile padding"
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "label": "Padding top",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "default": 24
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "label": "Padding bottom",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "default": 24
    }
  ],
  "blocks": [
    {
      "type": "contact",
      "name": "Contact",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "contact_heading",
          "label": "Heading",
          "default": "Contact us"
        },
        {
          "type": "textarea",
          "id": "address",
          "label": "Store address"
        },
        {
          "type": "url",
          "id": "map_url",
          "label": "Map link"
        },
        {
          "type": "text",
          "id": "phone",
          "label": "Phone number"
        },
        {
          "type": "text",
          "id": "email",
          "label": "Email address"
        },
        {
          "type": "checkbox",
          "id": "white_social_icons",
          "label": "White social icons",
          "default": false
        }
      ]
    },
    {
      "type": "contact_with_logo",
      "name": "Contact with logo",
      "settings": [
        {
          "type": "image_picker",
          "id": "logo",
          "label": "Logo image"
        },
        {
          "type": "textarea",
          "id": "address",
          "label": "Store address"
        },
        {
          "type": "url",
          "id": "map_url",
          "label": "Map link"
        },
        {
          "type": "text",
          "id": "phone",
          "label": "Phone number"
        },
        {
          "type": "text",
          "id": "email",
          "label": "Email address"
        }
      ]
    },
    {
      "type": "menu",
      "name": "Menu",
      "settings": [
        {
          "type": "text",
          "id": "menu_1_heading",
          "label": "Menu 1 heading",
          "default": "Shopping"
        },
        {
          "type": "link_list",
          "id": "menu_1",
          "label": "Menu 1 navigation"
        }
      ]
    },
    {
      "type": "newsletter",
      "name": "Newsletter",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "newsletter_heading",
          "label": "Heading",
          "default": "Let's keep in touch"
        },
        {
          "type": "textarea",
          "id": "newsletter_text",
          "label": "Description"
        },
        {
          "type": "text",
          "id": "newsletter_button",
          "label": "Button label",
          "default": "Subscribe"
        },
        {
          "type": "richtext",
          "id": "newsletter_terms",
          "label": "Terms and policy text"
        },
        {
          "type": "select",
          "id": "newsletter_terms_text_size",
          "label": "Terms and policy text size",
          "options": [
            {
              "value": "default",
              "label": "Default"
            },
            {
              "value": "small",
              "label": "Small"
            }
          ],
          "default": "default"
        },
        {
          "type": "select",
          "id": "button_style",
          "label": "Button style",
          "options": [
            {
              "value": "default",
              "label": "Default"
            },
            {
              "value": "white",
              "label": "White"
            }
          ],
          "default": "default"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Footer"
    }
  ]
}
{% endschema %}
